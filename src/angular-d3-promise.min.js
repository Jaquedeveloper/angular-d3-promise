!function(r,n){"function"==typeof define&&define.amd?define(["angular","d3"],n):r.d3.promise=n(r.angular,r.d3)}(this,function(r,n){r.module("d3.promise",[]).factory("d3Promise",["$q",function(r){function e(n,e){return function(){var o=Array.prototype.slice.call(arguments),t=r.defer(),i=function(r,n){return r?(t.reject(Error(r)),void 0):(t.resolve(n),void 0)};return e.apply(n,o.concat(i)),t.promise}}var o={};return["csv","tsv","json","xml","text","html"].forEach(function(r){o[r]=e(n,n[r])}),n.promise=o,o}])});